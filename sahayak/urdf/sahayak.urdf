<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-1-g15f4949  Build Version: 1.6.7594.29634
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot
  name="sahayak">
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="0.01499 -0.010082 0.17693"
        rpy="0 0 0" />
      <mass
        value="8.6173" />
      <inertia
        ixx="0.27411"
        ixy="-0.00011744"
        ixz="-0.00013001"
        iyy="0.22112"
        iyz="0.011125"
        izz="0.31248" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.23137 0.38039 0.70588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="Lidar">
    <inertial>
      <origin
        xyz="0.00029478 0.035775 -2.5802E-06"
        rpy="0 0 0" />
      <mass
        value="0.00058508" />
      <inertia
        ixx="6.2907E-07"
        ixy="-6.8488E-11"
        ixz="-1.1325E-13"
        iyy="7.4925E-07"
        iyz="-5.005E-11"
        izz="6.3026E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Lidar.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.74902 0.74902 0.74902 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Lidar.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Lidar1"
    type="revolute">
    <origin
      xyz="0 -0.8025 -0.24"
      rpy="3.1416 1.5469 0" />
    <parent
      link="base_link" />
    <child
      link="Lidar" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>
  <!-- <link
    name="Camera">
    <inertial>
      <origin
        xyz="0.002217 4.7571E-05 -0.01439"
        rpy="0 0 0" />
      <mass
        value="0.032687" />
      <inertia
        ixx="1.9948E-06"
        ixy="-4.0828E-09"
        ixz="4.0601E-08"
        iyy="2.0258E-05"
        iyz="-1.1767E-08"
        izz="2.1524E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Camera.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Camera.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Camera"
    type="revolute">
    <origin
      xyz="1.1752E-05 -0.54426 0.237"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="Camera" />
    <axis
      xyz="0 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint> -->
  <link
    name="Wheel_left_front">
    <inertial>
      <origin
        xyz="-0.012193 -3.2833E-11 -7.0906E-13"
        rpy="0 0 0" />
      <mass
        value="0.7218" />
      <inertia
        ixx="0.0020396"
        ixy="9.0829E-14"
        ixz="-1.9746E-14"
        iyy="0.0010808"
        iyz="1.3948E-08"
        izz="0.0010807" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_left_front.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.52941 0.54902 0.54902 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_left_front.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_left_front_J"
    type="continuous">
    <origin
      xyz="-0.21342 0.025 0.1875"
      rpy="1.5708 0 0" />
    <parent
      link="base_link" />
    <child
      link="Wheel_left_front" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0.67"
      velocity="6.28" />
    <dynamics
      friction="0.05" />
  </joint>
  <link
    name="Wheel_right_front">
    <inertial>
      <origin
        xyz="0.012193 -1.4214E-11 -2.9603E-11"
        rpy="0 0 0" />
      <mass
        value="0.7218" />
      <inertia
        ixx="0.0020396"
        ixy="-1.9528E-14"
        ixz="-9.0864E-14"
        iyy="0.0010807"
        iyz="2.9783E-08"
        izz="0.0010807" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_right_front.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.52941 0.54902 0.54902 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_right_front.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_right_front_J"
    type="continuous">
    <origin
      xyz="0.21342 0.025 0.1875"
      rpy="1.5708 0 0" />
    <parent
      link="base_link" />
    <child
      link="Wheel_right_front" />
    <axis
      xyz="-1 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0.67"
      velocity="6.28" />
    <dynamics
      friction="0.05" />
  </joint>
  <link
    name="Wheel_left_back">
    <inertial>
      <origin
        xyz="-0.012193 -2.4305E-11 -2.208E-11"
        rpy="0 0 0" />
      <mass
        value="0.7218" />
      <inertia
        ixx="0.0020396"
        ixy="8.1495E-14"
        ixz="4.47E-14"
        iyy="0.0010807"
        iyz="2.9041E-08"
        izz="0.0010808" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_left_back.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.52941 0.54902 0.54902 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_left_back.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_left_back_J"
    type="continuous">
    <origin
      xyz="-0.21192 0.025 -0.1875"
      rpy="1.5708 0 0" />
    <parent
      link="base_link" />
    <child
      link="Wheel_left_back" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0.67"
      velocity="6.28" />
    <dynamics
      friction="0.05" />
  </joint>
  <link
    name="Wheel_right_back">
    <inertial>
      <origin
        xyz="0.012193 1.5278E-11 2.9067E-11"
        rpy="0 0 0" />
      <mass
        value="0.7218" />
      <inertia
        ixx="0.0020396"
        ixy="2.2827E-14"
        ixz="9.0095E-14"
        iyy="0.0010807"
        iyz="3.0251E-08"
        izz="0.0010807" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_right_back.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.52941 0.54902 0.54902 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://sahayak/meshes/Wheel_right_back.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_right_back_J"
    type="continuous">
    <origin
      xyz="0.21192 0.025 -0.1875"
      rpy="1.5708 0 0" />
    <parent
      link="base_link" />
    <child
      link="Wheel_right_back" />
    <axis
      xyz="-1 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0.67"
      velocity="6.28" />
    <dynamics
      friction="0.05" />
  </joint>
  <!-- Camera link -->
  <link name="rs200_camera">
    <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <mesh filename="package://realsense_gazebo_plugin/models/realsense_camera/meshes/realsense.dae"/>
        </geometry>
    </visual>
    <collision>
        <geometry>
            <box size="0.0078 0.130 0.0192"/>
        </geometry>
    </collision>
    <inertial>
         <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <mass value="0.0615752"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia ixx="9.108e-05"
                 ixy="0"
                 ixz="0"
                 iyy="2.51e-06"
                 iyz="0"
                 izz="8.931e-05"
        />
    </inertial>
</link>

<!-- Connect camera to parent frame-->
<joint name="realsense_joint" type="fixed">
    <origin
      xyz="1.1752E-05 -0.54426 0.237"
      rpy="0 -1.570 1.570" />
    <parent link="base_link"/>
    <child link="rs200_camera"/>
    <axis xyz="0 0 0"/>
</joint>

<!-- Virtual links representing the cameras positons and orientations-->
<link name="color" />
<link name="depth" />
<link name="ired1" />
<link name="ired2" />

<!-- Joints positioning the virtual links with respect to the camera main link-->
<joint name="color_joint" type="fixed">
    
    <parent link="rs200_camera" />
    <child link="color" />
    <!-- <origin xyz="0 -0.046 0.004" rpy="0 0 0"/> -->
    <!-- The default position is change since in Rviz the cloud depth axis is Z not X-->
    <origin xyz="0 -0.046 0.004" rpy="0 0 0"/>
</joint>

<joint name="depth_joint" type="fixed">
    <parent link="rs200_camera" />
    <child link="depth" />
    <origin xyz="0 -0.03 0.004" rpy="0 0 0"/>
</joint>

<joint name="ired1_joint" type="fixed">
    <parent link="rs200_camera" />
    <child link="ired1" />
    <origin xyz="0 -0.06 0.004" rpy="0 0 0"/>
</joint>

<joint name="ired2_joint" type="fixed">
    <parent link="rs200_camera" />
    <child link="ired2" />
    <origin xyz="0 0.01 0.004" rpy="0 0 0"/>
</joint>

<!-- **********************************************************-->
<!-- GAZEBO DEFINITIONS ***************************************-->

<!-- Load plugin to the model ("robot" in urdf format)-->
<gazebo>
    <plugin name="r200" filename="librealsense_gazebo_plugin.so">
        <prefix></prefix>
    </plugin>
    <!--<pose frame="">0 0 0.015 0 0 0</pose>-->
</gazebo>

<!-- Load parameters to model's main link-->
<gazebo reference="rs200_camera">
    <self_collide>0</self_collide>
    <enable_wind>0</enable_wind>
    <kinematic>0</kinematic>
    <gravity>1</gravity>
    <!--<mu>1</mu>-->
    <mu2>1</mu2>
    <fdir1>0 0 0</fdir1>
    <!--<slip1>0</slip1>
    <slip2>0</slip2>-->
    <kp>1e+13</kp>
    <kd>1</kd>
    <!--<max_vel>0.01</max_vel>
    <min_depth>0</min_depth>-->

    <sensor name="color" type="camera">
        <pose frame="">0 -0.046 0.004 0 0 0</pose>
        <camera name="rs200_camera">
        <horizontal_fov>1.047</horizontal_fov>
        <image>
            <width>640</width>
            <height>480</height>
            <format>RGB_INT8</format>
        </image>
        <clip>
            <near>0.1</near>
            <far>100</far>
        </clip>
        <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.007</stddev>
        </noise>
        </camera>
        <always_on>1</always_on>
        <update_rate>60</update_rate>
        <visualize>1</visualize>
    </sensor>
    <sensor name="ired1" type="camera">
        <pose frame="">0 -0.06 0.004 0 0 0</pose>
        <camera name="rs200_camera">
        <horizontal_fov>1.047</horizontal_fov>
        <image>
            <width>640</width>
            <height>480</height>
            <format>L_INT8</format>
        </image>
        <clip>
            <near>0.1</near>
            <far>100</far>
        </clip>
        <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.05</stddev>
        </noise>
        </camera>
        <always_on>1</always_on>
        <update_rate>60</update_rate>
        <visualize>0</visualize>
    </sensor>
    <sensor name="ired2" type="camera">
        <pose frame="">0 0.01 0.004 0 0 0</pose>
        <camera name="rs200_camera">
        <horizontal_fov>1.047</horizontal_fov>
        <image>
            <width>640</width>
            <height>480</height>
            <format>L_INT8</format>
        </image>
        <clip>
            <near>0.1</near>
            <far>100</far>
        </clip>
        <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.05</stddev>
        </noise>
        </camera>
        <always_on>1</always_on>
        <update_rate>60</update_rate>
        <visualize>0</visualize>
    </sensor>
    <sensor name="depth" type="depth">
        <pose frame="">0 -0.03 0.004 0 0 0</pose>
        <camera name="rs200_camera">
        <horizontal_fov>1.047</horizontal_fov>
        <image>
                <width>640</width>
                <height>480</height>
        </image>
        <clip>
                <near>0.1</near>
                <far>100</far>
        </clip>
        <noise>
                <type>gaussian</type>
                <mean>0.0</mean>
                <stddev>0.100</stddev>
        </noise>
        </camera>
        <always_on>1</always_on>
        <update_rate>60</update_rate>
        <visualize>0</visualize>
    </sensor>
</gazebo>



<joint name="rplidar_joint" type="fixed" >
  <origin 
    xyz="0 -0.8025 -0.24"
    rpy="1.570 1.5469 0" />
  <parent link="base_link" />
  <child link="rplidar"/>
</joint>

<link name="rplidar">

  <inertial>
    <pose>0 0 0 0 0 0</pose>
    <mass>0.19</mass>
    <inertia>
      <ixx>4.15e-6</ixx>
      <ixy>0</ixy>
      <ixz>0</ixz>
      <iyy>2.407e-6</iyy>
      <iyz>0</iyz>
      <izz>2.407e-6</izz>
    </inertia>
  </inertial>
  <visual name="visual">
    <geometry>
      <box>
        <size>0.02 0.05 0.05</size>
      </box>
    </geometry>
  </visual>
</link>
<gazebo reference="rplidar">
  <sensor name="laser" type="gpu_ray">
    <ray>
      <scan>
        <horizontal>
          <samples>360</samples>
          <resolution>1</resolution>
          <min_angle>-3.14</min_angle>
          <max_angle>3.14</max_angle>
        </horizontal>
      </scan>
      <range>
        <min>0.2</min>
        <max>6</max>
        <resolution>0.05</resolution>
      </range>
      <noise>
        <type>gaussian</type>
        <mean>0.0</mean>
        <stddev>0.01</stddev>
      </noise>
    </ray>
    <plugin name="laser" filename="libGpuRayPlugin.so" />
    <plugin name="gazebo_ros_head_rplidar_controller" filename="libgazebo_ros_gpu_laser.so">
      <topicName>laser/scan</topicName>
      <frameName>rplidar</frameName>
    </plugin>
    <always_on>1</always_on>
    <update_rate>5.5</update_rate>
    <visualize>true</visualize>
  </sensor>
</gazebo>
</robot>